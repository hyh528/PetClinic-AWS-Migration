# GitHub 협업 가이드라인 for PetClinic AWS Migration Project

## 멘토의 한마디

팀원 여러분, 반갑습니다! 이 문서는 GitHub를 처음 사용하는 여러분을 위한 나침반입니다. GitHub는 단순히 코드를 저장하는 공간이 아니라, 우리가 어떻게 협업하고, 누가 어떤 작업을 했는지 기록하며, 최종적으로 배포를 자동화하는 심장과도 같은 곳입니다. 처음에는 조금 낯설 수 있지만, 이 가이드라인을 차근차근 따라 하다 보면 금세 익숙해질 겁니다. 두려워하지 말고, 동료와 소통하며 즐겁게 시작해 봅시다!

---

## 1. 핵심 개념 이해하기 (이것만은 알고 가자!)

- **Repository (저장소):** 우리 프로젝트의 모든 파일과 히스토리가 저장되는 공간입니다. 'PetClinic 프로젝트 폴더'의 온라인 버전이라고 생각하면 쉽습니다.
- **Commit (커밋):** 코드의 변경 사항을 저장하는 최소 단위입니다. "이 부분을 이렇게 수정했어"라고 스냅샷을 찍어 기록하는 행위입니다.
- **Branch (브랜치):** 독립적으로 작업을 진행하기 위한 코드의 복사본입니다. 다른 사람의 작업에 영향을 주지 않고 나만의 공간에서 자유롭게 코드를 수정할 수 있게 해줍니다.
- **Pull Request (PR):** 내가 만든 브랜치에서의 작업 내용을 다른 팀원들에게 "이 코드 괜찮은지 리뷰해주고, 괜찮다면 원래 코드에 합쳐줘!"라고 요청하는 것입니다. **우리 협업의 핵심입니다.**
- **Merge (병합):** Pull Request가 승인되면, 내가 작업한 브랜치의 코드를 원래 코드(예: `develop` 브랜치)에 합치는 과정입니다.

---

## 2. 우리 팀의 협업 규칙 (Branch & PR 전략)

### 🔗 핵심 원칙: 이슈-브랜치-PR 연결하기

모든 작업은 이슈에서 시작해서 PR로 끝나야 추적이 가능합니다. 일관성을 위해 아래 규칙을 따릅니다.

- **흐름 예시:**
  - **1. 이슈 생성:** `Issue #3` 생성 (라벨: `infra`)
  - **2. 브랜치 생성:** `infra/create-vpc`
  - **3. PR 생성:** 제목 `[Infra] VPC 인프라 구축 (#3)`

이렇게 하면, PR 제목의 `(#3)`을 통해 자동으로 해당 이슈에 연결되고, 브랜치 이름만 봐도 어떤 종류의 작업인지 알 수 있습니다.

---

우리는 **Git-flow**를 단순화한, 가장 대중적인 브랜치 전략을 사용합니다.

### 주요 브랜치

- **`main`:** 최종적으로 제품으로 출시될 수 있는 가장 안정적인 버전의 코드가 있는 곳입니다. **절대 직접 수정하지 않습니다.**
- **`develop`:** 개발의 중심이 되는 브랜치입니다. 각자 작업한 기능들이 이곳으로 합쳐집니다. 우리의 주 무대입니다.

### 개발 프로세스 (가장 중요!)

**모든 작업은 아래 순서대로 진행합니다.**

1.  **이슈(Issue) 생성:** 내가 해야 할 작업(예: "VPC 생성용 Terraform 코드 작성")을 GitHub의 'Issues' 탭에 등록합니다.
2.  **브랜치 생성:** `develop` 브랜치에서 내 작업용 브랜치를 새로 만듭니다.
    - 브랜치 이름 규칙: `타입/작업-요약` (예: `infra/create-vpc`, `app/add-rds-connection`)
    - **브랜치 타입 상세:**
      - `infra/`: VPC, ECS, ALB 등 인프라 리소스 관련 작업을 할 때 사용합니다. (담당: Infra Lead)
      - `app/`: Spring Boot 애플리케이션의 코드 수정, 기능 추가/변경 시 사용합니다. (담당: DevOps Lead)
      - `db/`: RDS 생성, 스키마 마이그레이션, Parameter Store 연동 등 데이터 관련 작업 시 사용합니다. (담당: Data Lead)
      - `security/`: IAM 정책, Security Group 등 보안 관련 작업 시 사용합니다. (담당: Security Lead)
      - `fix/`: 버그 수정 시 사용합니다. (예: `fix/wrong-security-group-rule`)
      - `docs/`: README.md나 다른 문서 파일을 수정할 때 사용합니다. (예: `docs/update-guidelines`)
    - `git checkout develop`
    - `git pull origin develop` (항상 최신 `develop` 상태에서 시작)
    - `git checkout -b infra/create-vpc` (작업에 맞는 브랜치 이름으로 생성)
3.  **작업 진행:** 내 `infra/create-vpc` 브랜치에서 열심히 코드를 작성하고 테스트합니다.
4.  **커밋(Commit) 남기기:** 의미 있는 단위로 작업을 나누어 커밋 메시지를 명확하게 작성하며 저장합니다.
    - `git add .`
    - `git commit -m "Infra: Add VPC main module"` (아래 '커밋 메시지 규칙' 참고)
5.  **GitHub에 Push:** 내 로컬 브랜치의 작업 내용을 GitHub 원격 저장소에 올립니다.
    - `git push origin infra/create-vpc`
6.  **Pull Request (PR) 생성:**
    - GitHub 저장소에서 "New pull request" 버튼을 누릅니다.
    - **`base: develop` <- `compare: infra/create-vpc`** 로 설정합니다. (내 작업을 `develop`에 합쳐달라는 의미)
    - PR 제목과 설명을 명확하게 작성하고, 연결할 이슈를 지정합니다. (예: `[Infra] VPC 인프라 구축 (#3)`)
7.  **코드 리뷰 요청:**
    - PR의 'Reviewers'에 **나를 제외한 팀원 1명 이상**을 지정하여 코드 리뷰를 요청합니다.
8.  **리뷰 및 수정:**
    - 리뷰어는 코드를 꼼꼼히 보고 의견을 남깁니다. (아래 '코드 리뷰 가이드' 참고)
    - PR 작성자는 리뷰를 반영하여 코드를 수정하고 다시 Push 합니다. (PR에 자동으로 반영됨)
9.  **Merge 및 브랜치 삭제:**
    - 리뷰어에게 **Approve(승인)** 를 받으면, PR을 `develop` 브랜치에 Merge 합니다.
    - Merge가 완료되면, 이제 역할이 끝난 `feature` 브랜치는 삭제합니다.
10. **1번부터 다시 반복!**

---

## 3. 커밋 메시지 규칙

명확한 커밋 메시지는 나중에 문제가 생겼을 때 원인을 찾고, 동료가 내 작업을 이해하는 데 큰 도움이 됩니다.

**형식: `태그: 제목`**

- **태그 종류:**
  - `Infra`: 인프라 구성 변경 (Terraform, AWS 리소스 등)
  - `Feat`: 새로운 기능 추가 (주로 `app/` 브랜치에서 사용)
  - `Fix`: 버그 수정
  - `Docs`: 문서 수정 (README.md, 가이드라인 등)
  - `DB`: 데이터베이스 스키마 변경, 마이그레이션 등
  - `Security`: 보안 관련 설정 변경
  - `Style`: 코드 포맷팅, 세미콜론 누락 등 (코드 로직 변경 없음)
  - `Refactor`: 코드 리팩토링 (기능 변경 없이 구조 개선)
  - `Test`: 테스트 코드 추가/수정
  - `Chore`: 빌드, 패키지 매니저 설정 등 (개발과 직접 관련 없는 작업)

- **좋은 예시:**
  - `Infra: Add RDS module for database`
  - `Fix: Correct subnet CIDR block range`
  - `Docs: Update github-guidelines.md`

---

## 4. Pull Request (PR) 및 코드 리뷰 가이드

### PR 작성 가이드

- **제목은 명확하게:** `[Infra] VPC 인프라 구축 (#3)` 처럼 PR의 목적을 명확히 드러냅니다.
- **설명은 상세하게:**
  - **어떤 작업을 했나요?** (What) - "Public/Private 서브넷과 NAT Gateway를 포함하는 VPC를 생성했습니다."
  - **왜 이 작업이 필요한가요?** (Why) - "ECS와 RDS를 배치할 기본 네트워크 환경이 필요하기 때문입니다."
  - **어떻게 구현했나요?** (How) - "Terraform의 `aws_vpc` 모듈을 사용했습니다."
  - **관련 이슈 번호:** `Closes #이슈번호` (예: `Closes #3`) 를 본문에 넣으면 PR이 Merge될 때 해당 이슈가 자동으로 닫힙니다.

### 코드 리뷰 가이드

- **칭찬으로 시작하세요:** "좋은 코드네요!", "이 부분은 이렇게 해결하셨군요!"
- **의도를 파악하세요:** 왜 이렇게 코드를 작성했는지 먼저 이해하려고 노력하세요.
- **명령이 아닌 제안:** "이거 바꾸세요" (X) -> "이 부분은 이렇게 바꾸는 건 어떨까요? 왜냐하면..." (O)
- **전체적인 관점에서 보세요:** 코드 스타일뿐만 아니라, 로직이 올바른지, 다른 기능에 영향을 주지 않는지 등을 함께 봅니다.
- **리뷰는 선물이자 학습 기회입니다.** 서로의 코드를 보며 함께 성장하는 시간이라고 생각하세요!

---

## 5. 이슈(Issue) 활용법

- **모든 작업은 이슈에서 시작합니다.** 주차별 계획에 따라 해야 할 일들을 이슈로 등록하고 관리합니다.
- **담당자(Assignees) 지정:** 이슈를 처리할 사람을 명확히 지정합니다.
- **라벨(Labels) 활용:** `1주차`, `bug`, `infra`, `app`, `db`, `security` 와 같이 라벨을 붙여 이슈를 쉽게 분류하고 검색할 수 있도록 합니다.

이 가이드라인을 잘 숙지하고 따른다면, 우리는 체계적이고 효율적으로 협업하며 프로젝트를 성공적으로 이끌어 나갈 수 있을 것입니다. 화이팅!
