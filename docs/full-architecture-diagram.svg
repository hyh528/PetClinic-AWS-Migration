<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 1800" style="background-color: #f8f9fa;">
  <!-- Title -->
  <text x="800" y="35" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#232f3e">
    PetClinic Full Stack Architecture on AWS
  </text>
  <text x="800" y="65" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#546e7a">
    Microservices Architecture | Multi-AZ | Serverless | Event-Driven | GenAI Integration
  </text>
  
  <!-- AWS Cloud Border -->
  <rect x="30" y="90" width="1540" height="1680" fill="none" stroke="#232f3e" stroke-width="4" stroke-dasharray="15,10" rx="15"/>
  <text x="50" y="125" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#232f3e">
    AWS Cloud (us-west-2)
  </text>
  
  <!-- ========================================
       LAYER 1: CloudFront & Route53 (Global)
       ======================================== -->
  <g id="global-services">
    <rect x="60" y="140" width="1480" height="100" fill="#fff3e0" stroke="#ff6f00" stroke-width="2" rx="8"/>
    <text x="80" y="165" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#e65100">
      Global Services Layer
    </text>
    
    <!-- Route53 -->
    <rect x="100" y="180" width="180" height="45" fill="#8e44ad" stroke="#6c3483" stroke-width="2" rx="5"/>
    <text x="190" y="207" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      Route 53 (DNS)
    </text>
    
    <!-- CloudFront -->
    <rect x="320" y="180" width="180" height="45" fill="#8e44ad" stroke="#6c3483" stroke-width="2" rx="5"/>
    <text x="410" y="207" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      CloudFront CDN
    </text>
    
    <!-- WAF -->
    <rect x="540" y="180" width="180" height="45" fill="#e74c3c" stroke="#c0392b" stroke-width="2" rx="5"/>
    <text x="630" y="207" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      AWS WAF
    </text>
    
    <!-- ACM -->
    <rect x="760" y="180" width="180" height="45" fill="#3498db" stroke="#2980b9" stroke-width="2" rx="5"/>
    <text x="850" y="207" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
      ACM (SSL/TLS)
    </text>
  </g>
  
  <!-- Arrow down -->
  <line x1="800" y1="240" x2="800" y2="270" stroke="#232f3e" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- ========================================
       LAYER 2: VPC & Network
       ======================================== -->
  <rect x="60" y="280" width="1480" height="1450" fill="#e3f2fd" stroke="#1976d2" stroke-width="3" rx="10"/>
  <text x="80" y="310" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#0d47a1">
    VPC: 10.0.0.0/16 (petclinic-dev-vpc)
  </text>
  
  <!-- ========================================
       LAYER 3: Public Subnet (ALB, NAT)
       ======================================== -->
  <g id="public-layer">
    <rect x="90" y="330" width="1450" height="140" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="8"/>
    <text x="110" y="355" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#1b5e20">
      Public Subnet Layer (Multi-AZ)
    </text>
    
    <!-- Internet Gateway -->
    <rect x="120" y="370" width="160" height="80" fill="#ff9800" stroke="#e65100" stroke-width="2" rx="5"/>
    <text x="200" y="400" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
      Internet Gateway
    </text>
    <text x="200" y="420" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      (IGW)
    </text>
    
    <!-- ALB -->
    <rect x="320" y="370" width="200" height="80" fill="#4fc3f7" stroke="#0277bd" stroke-width="2" rx="5"/>
    <text x="420" y="400" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
      Application
    </text>
    <text x="420" y="420" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
      Load Balancer
    </text>
    <text x="420" y="438" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      (Multi-AZ)
    </text>
    
    <!-- NAT Gateway A -->
    <rect x="560" y="370" width="140" height="80" fill="#ff9800" stroke="#e65100" stroke-width="2" rx="5"/>
    <text x="630" y="405" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      NAT Gateway
    </text>
    <text x="630" y="425" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      AZ-A + EIP
    </text>
    
    <!-- NAT Gateway B -->
    <rect x="740" y="370" width="140" height="80" fill="#ff9800" stroke="#e65100" stroke-width="2" rx="5"/>
    <text x="810" y="405" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      NAT Gateway
    </text>
    <text x="810" y="425" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
      AZ-B + EIP
    </text>
    
    <!-- Bastion (optional) -->
    <rect x="920" y="370" width="140" height="80" fill="#95a5a6" stroke="#7f8c8d" stroke-width="2" rx="5"/>
    <text x="990" y="405" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      Bastion Host
    </text>
    <text x="990" y="425" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      (Dev Only)
    </text>
  </g>
  
  <!-- Arrow down -->
  <line x1="420" y1="470" x2="420" y2="500" stroke="#0277bd" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- ========================================
       LAYER 4: Private App Subnet (ECS, Lambda, API Gateway)
       ======================================== -->
  <g id="private-app-layer">
    <rect x="90" y="510" width="1450" height="380" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="8"/>
    <text x="110" y="535" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#0d47a1">
      Private App Subnet Layer (Multi-AZ)
    </text>
    
    <!-- ECS Cluster -->
    <g id="ecs-cluster">
      <rect x="120" y="555" width="350" height="300" fill="#e1bee7" stroke="#7b1fa2" stroke-width="2" rx="6"/>
      <text x="295" y="580" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#4a148c">
        ECS Fargate Cluster
      </text>
      
      <!-- Services -->
      <rect x="140" y="600" width="150" height="60" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1.5" rx="4"/>
      <text x="215" y="625" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
        Customers Service
      </text>
      <text x="215" y="643" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
        Port 8080 | Spring Boot
      </text>
      
      <rect x="140" y="670" width="150" height="60" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1.5" rx="4"/>
      <text x="215" y="695" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
        Vets Service
      </text>
      <text x="215" y="713" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
        Port 8080 | Spring Boot
      </text>
      
      <rect x="300" y="600" width="150" height="60" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1.5" rx="4"/>
      <text x="375" y="625" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
        Visits Service
      </text>
      <text x="375" y="643" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
        Port 8080 | Spring Boot
      </text>
      
      <rect x="300" y="670" width="150" height="60" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1.5" rx="4"/>
      <text x="375" y="695" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
        Admin Service
      </text>
      <text x="375" y="713" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
        Port 8080 | Spring Boot
      </text>
      
      <!-- Auto Scaling -->
      <rect x="140" y="750" width="310" height="35" fill="#ba68c8" stroke="#7b1fa2" stroke-width="1" rx="3"/>
      <text x="295" y="773" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        ECS Service Auto Scaling (CPU/Memory)
      </text>
      
      <!-- Health Check -->
      <rect x="140" y="795" width="310" height="35" fill="#ba68c8" stroke="#7b1fa2" stroke-width="1" rx="3"/>
      <text x="295" y="818" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        Health Check: /actuator/health
      </text>
    </g>
    
    <!-- Lambda Functions -->
    <g id="lambda-layer">
      <rect x="510" y="555" width="280" height="150" fill="#fff59d" stroke="#f57f17" stroke-width="2" rx="6"/>
      <text x="650" y="580" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#f57f17">
        Lambda Functions
      </text>
      
      <rect x="530" y="600" width="240" height="40" fill="#fff176" stroke="#f9a825" stroke-width="1" rx="3"/>
      <text x="650" y="625" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#827717">
        GenAI Integration (Bedrock)
      </text>
      
      <rect x="530" y="650" width="240" height="40" fill="#fff176" stroke="#f9a825" stroke-width="1" rx="3"/>
      <text x="650" y="675" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#827717">
        Data Processing & ETL
      </text>
    </g>
    
    <!-- API Gateway -->
    <g id="api-gateway">
      <rect x="830" y="555" width="280" height="150" fill="#4db6ac" stroke="#00695c" stroke-width="2" rx="6"/>
      <text x="970" y="580" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="white">
        API Gateway (REST)
      </text>
      
      <rect x="850" y="600" width="240" height="40" fill="#80cbc4" stroke="#00796b" stroke-width="1" rx="3"/>
      <text x="970" y="625" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#004d40">
        /api/customers
      </text>
      
      <rect x="850" y="650" width="240" height="40" fill="#80cbc4" stroke="#00796b" stroke-width="1" rx="3"/>
      <text x="970" y="675" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#004d40">
        /api/vets, /api/visits
      </text>
    </g>
    
    <!-- VPC Endpoints -->
    <g id="vpc-endpoints">
      <rect x="1150" y="555" width="360" height="300" fill="#ffccbc" stroke="#d84315" stroke-width="2" rx="6"/>
      <text x="1330" y="580" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#bf360c">
        VPC Endpoints (PrivateLink)
      </text>
      
      <text x="1170" y="610" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• ECR API/DKR (Docker Pull)</text>
      <text x="1170" y="635" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• CloudWatch Logs</text>
      <text x="1170" y="660" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• X-Ray (Tracing)</text>
      <text x="1170" y="685" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• Secrets Manager</text>
      <text x="1170" y="710" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• Systems Manager (SSM)</text>
      <text x="1170" y="735" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• KMS (Encryption)</text>
      <text x="1170" y="760" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• S3 Gateway Endpoint</text>
      <text x="1170" y="785" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• CloudWatch Monitoring</text>
      <text x="1170" y="810" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• EC2 Messages</text>
      <text x="1170" y="835" font-family="Arial, sans-serif" font-size="10" fill="#d84315">• SSM Messages</text>
    </g>
  </g>
  
  <!-- Arrow down -->
  <line x1="295" y1="890" x2="295" y2="920" stroke="#7b1fa2" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- ========================================
       LAYER 5: Private DB Subnet (Aurora, ElastiCache)
       ======================================== -->
  <g id="private-db-layer">
    <rect x="90" y="930" width="1450" height="260" fill="#ffcdd2" stroke="#c62828" stroke-width="2" rx="8"/>
    <text x="110" y="955" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#b71c1c">
      Private DB Subnet Layer (Multi-AZ - Isolated)
    </text>
    
    <!-- Aurora Cluster -->
    <g id="aurora">
      <rect x="120" y="975" width="450" height="180" fill="#ef9a9a" stroke="#c62828" stroke-width="2" rx="6"/>
      <text x="345" y="1000" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#b71c1c">
        Aurora MySQL Serverless v2 Cluster
      </text>
      
      <!-- Primary -->
      <rect x="150" y="1020" width="180" height="110" fill="#e57373" stroke="#c62828" stroke-width="2" rx="5"/>
      <ellipse cx="200" cy="1060" rx="30" ry="25" fill="#d32f2f" stroke="#b71c1c" stroke-width="2"/>
      <text x="200" y="1067" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">DB</text>
      <text x="270" y="1055" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#b71c1c">
        Primary Writer
      </text>
      <text x="270" y="1075" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#c62828">
        AZ-A
      </text>
      <text x="270" y="1090" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#c62828">
        Read/Write
      </text>
      <text x="270" y="1105" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#c62828">
        Auto-scaling
      </text>
      
      <!-- Replica -->
      <rect x="360" y="1020" width="180" height="110" fill="#e57373" stroke="#c62828" stroke-width="2" rx="5"/>
      <ellipse cx="410" cy="1060" rx="30" ry="25" fill="#d32f2f" stroke="#b71c1c" stroke-width="2"/>
      <text x="410" y="1067" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">DB</text>
      <text x="480" y="1055" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#b71c1c">
        Read Replica
      </text>
      <text x="480" y="1075" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#c62828">
        AZ-B
      </text>
      <text x="480" y="1090" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#c62828">
        Read Only
      </text>
      <text x="480" y="1105" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#c62828">
        Auto-failover
      </text>
      
      <!-- Replication arrow -->
      <line x1="330" y1="1075" x2="360" y2="1075" stroke="#d32f2f" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowhead-red)"/>
      
      <!-- Features -->
      <rect x="150" y="1145" width="390" height="25" fill="#ffcdd2" stroke="#c62828" stroke-width="1" rx="3"/>
      <text x="345" y="1162" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#b71c1c">
        Encryption at rest (KMS) | Backups (7 days) | Performance Insights
      </text>
    </g>
    
    <!-- ElastiCache -->
    <g id="elasticache">
      <rect x="610" y="975" width="280" height="180" fill="#ef9a9a" stroke="#c62828" stroke-width="2" rx="6"/>
      <text x="750" y="1000" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#b71c1c">
        ElastiCache (Redis)
      </text>
      <text x="750" y="1020" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#c62828">
        (Optional - Session Store)
      </text>
      
      <rect x="640" y="1040" width="220" height="60" fill="#e57373" stroke="#c62828" stroke-width="1.5" rx="4"/>
      <text x="750" y="1068" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        Redis Cluster
      </text>
      <text x="750" y="1085" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
        Multi-AZ with Auto-Failover
      </text>
    </g>
    
    <!-- Backup -->
    <g id="backup">
      <rect x="930" y="975" width="280" height="180" fill="#ef9a9a" stroke="#c62828" stroke-width="2" rx="6"/>
      <text x="1070" y="1000" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#b71c1c">
        Backup & Recovery
      </text>
      
      <rect x="960" y="1040" width="220" height="50" fill="#e57373" stroke="#c62828" stroke-width="1.5" rx="4"/>
      <text x="1070" y="1068" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        AWS Backup (Automated)
      </text>
      
      <rect x="960" y="1100" width="220" height="50" fill="#e57373" stroke="#c62828" stroke-width="1.5" rx="4"/>
      <text x="1070" y="1128" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        Point-in-Time Recovery
      </text>
    </g>
  </g>
  
  <!-- ========================================
       LAYER 6: Supporting Services
       ======================================== -->
  <g id="supporting-services">
    <rect x="90" y="1210" width="1450" height="180" fill="#e8eaf6" stroke="#3f51b5" stroke-width="2" rx="8"/>
    <text x="110" y="1235" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#1a237e">
      Supporting Services Layer
    </text>
    
    <!-- Parameter Store -->
    <rect x="120" y="1255" width="200" height="100" fill="#9fa8da" stroke="#3949ab" stroke-width="2" rx="5"/>
    <text x="220" y="1285" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      Parameter Store
    </text>
    <text x="220" y="1305" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Config Management
    </text>
    <text x="220" y="1325" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Secrets (DB creds)
    </text>
    
    <!-- Cloud Map -->
    <rect x="350" y="1255" width="200" height="100" fill="#9fa8da" stroke="#3949ab" stroke-width="2" rx="5"/>
    <text x="450" y="1285" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      Cloud Map
    </text>
    <text x="450" y="1305" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Service Discovery
    </text>
    <text x="450" y="1325" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      DNS-based
    </text>
    
    <!-- CloudWatch -->
    <rect x="580" y="1255" width="200" height="100" fill="#9fa8da" stroke="#3949ab" stroke-width="2" rx="5"/>
    <text x="680" y="1285" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      CloudWatch
    </text>
    <text x="680" y="1305" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Logs + Metrics
    </text>
    <text x="680" y="1325" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Alarms + Dashboards
    </text>
    
    <!-- X-Ray -->
    <rect x="810" y="1255" width="200" height="100" fill="#9fa8da" stroke="#3949ab" stroke-width="2" rx="5"/>
    <text x="910" y="1285" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      X-Ray
    </text>
    <text x="910" y="1305" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Distributed Tracing
    </text>
    <text x="910" y="1325" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Service Map
    </text>
    
    <!-- SNS -->
    <rect x="1040" y="1255" width="200" height="100" fill="#9fa8da" stroke="#3949ab" stroke-width="2" rx="5"/>
    <text x="1140" y="1285" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      SNS + SQS
    </text>
    <text x="1140" y="1305" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Notifications
    </text>
    <text x="1140" y="1325" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Event Queue
    </text>
    
    <!-- CloudTrail -->
    <rect x="1270" y="1255" width="200" height="100" fill="#9fa8da" stroke="#3949ab" stroke-width="2" rx="5"/>
    <text x="1370" y="1285" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
      CloudTrail
    </text>
    <text x="1370" y="1305" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Audit Logs
    </text>
    <text x="1370" y="1325" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">
      Compliance
    </text>
  </g>
  
  <!-- ========================================
       LAYER 7: Frontend (S3 + CloudFront)
       ======================================== -->
  <g id="frontend-layer">
    <rect x="90" y="1410" width="720" height="150" fill="#fff9c4" stroke="#f9a825" stroke-width="2" rx="8"/>
    <text x="110" y="1435" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#f57f17">
      Frontend Layer
    </text>
    
    <!-- S3 -->
    <rect x="120" y="1455" width="280" height="80" fill="#fff59d" stroke="#f9a825" stroke-width="2" rx="5"/>
    <text x="260" y="1485" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#f57f17">
      S3 Static Website
    </text>
    <text x="260" y="1505" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#827717">
      React SPA
    </text>
    <text x="260" y="1522" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#827717">
      Versioning Enabled
    </text>
    
    <!-- CloudFront Distribution -->
    <rect x="440" y="1455" width="330" height="80" fill="#fff59d" stroke="#f9a825" stroke-width="2" rx="5"/>
    <text x="605" y="1485" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#f57f17">
      CloudFront Distribution
    </text>
    <text x="605" y="1505" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#827717">
      Global CDN | Edge Locations
    </text>
    <text x="605" y="1522" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#827717">
      OAI (Origin Access Identity)
    </text>
  </g>
  
  <!-- ========================================
       LAYER 8: CI/CD & Security
       ======================================== -->
  <g id="cicd-security">
    <rect x="850" y="1410" width="690" height="150" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="8"/>
    <text x="870" y="1435" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#880e4f">
      CI/CD & Security Layer
    </text>
    
    <!-- GitHub Actions -->
    <rect x="880" y="1455" width="200" height="80" fill="#f8bbd0" stroke="#c2185b" stroke-width="2" rx="5"/>
    <text x="980" y="1485" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#880e4f">
      GitHub Actions
    </text>
    <text x="980" y="1505" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#ad1457">
      Build & Deploy
    </text>
    <text x="980" y="1522" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#ad1457">
      Terraform Tests
    </text>
    
    <!-- ECR -->
    <rect x="1110" y="1455" width="200" height="80" fill="#f8bbd0" stroke="#c2185b" stroke-width="2" rx="5"/>
    <text x="1210" y="1485" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#880e4f">
      ECR
    </text>
    <text x="1210" y="1505" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#ad1457">
      Docker Registry
    </text>
    <text x="1210" y="1522" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#ad1457">
      Image Scanning
    </text>
    
    <!-- Security Tools -->
    <rect x="1340" y="1455" width="170" height="80" fill="#f8bbd0" stroke="#c2185b" stroke-width="2" rx="5"/>
    <text x="1425" y="1475" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#880e4f">
      Security Tools
    </text>
    <text x="1425" y="1495" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#ad1457">
      TFSec | Checkov
    </text>
    <text x="1425" y="1510" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#ad1457">
      Trivy | TFLint
    </text>
    <text x="1425" y="1525" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#ad1457">
      GuardDuty
    </text>
  </g>
  
  <!-- ========================================
       LAYER 9: External Services
       ======================================== -->
  <g id="external-services">
    <rect x="90" y="1580" width="1450" height="120" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="8"/>
    <text x="110" y="1605" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#4a148c">
      External Services & Integrations
    </text>
    
    <!-- Bedrock -->
    <rect x="120" y="1625" width="280" height="60" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2" rx="5"/>
    <text x="260" y="1650" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
      Amazon Bedrock (GenAI)
    </text>
    <text x="260" y="1670" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
      Claude, Titan Models
    </text>
    
    <!-- Slack -->
    <rect x="440" y="1625" width="200" height="60" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2" rx="5"/>
    <text x="540" y="1650" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
      Slack
    </text>
    <text x="540" y="1670" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
      Notifications
    </text>
    
    <!-- GitHub -->
    <rect x="680" y="1625" width="200" height="60" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2" rx="5"/>
    <text x="780" y="1650" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
      GitHub
    </text>
    <text x="780" y="1670" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
      Source Control
    </text>
    
    <!-- Terraform Cloud -->
    <rect x="920" y="1625" width="200" height="60" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2" rx="5"/>
    <text x="1020" y="1650" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
      Terraform
    </text>
    <text x="1020" y="1670" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
      IaC (S3 Backend)
    </text>
    
    <!-- Monitoring -->
    <rect x="1160" y="1625" width="330" height="60" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2" rx="5"/>
    <text x="1325" y="1650" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
      External Monitoring
    </text>
    <text x="1325" y="1670" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#6a1b9a">
      Datadog | New Relic (Optional)
    </text>
  </g>
  
  <!-- Legend -->
  <g id="legend">
    <rect x="60" y="1720" width="1480" height="35" fill="white" stroke="#90a4ae" stroke-width="1" rx="5"/>
    <text x="80" y="1740" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#37474f">
      Architecture Highlights:
    </text>
    <text x="100" y="1755" font-family="Arial, sans-serif" font-size="9" fill="#546e7a">
      • 12 Terraform Layers • Multi-AZ (2 AZs) • 4 Microservices (Spring Boot) • Aurora Serverless v2 • Lambda GenAI • CloudFront CDN
    </text>
    <text x="900" y="1755" font-family="Arial, sans-serif" font-size="9" fill="#546e7a">
      • API Gateway REST • ECS Fargate • 10 VPC Endpoints • WAF + Security • Auto Scaling • CI/CD (GitHub Actions)
    </text>
  </g>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#232f3e" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#d32f2f" />
    </marker>
  </defs>
</svg>
