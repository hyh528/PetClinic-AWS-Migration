<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1000" style="background-color: #f8f9fa;">
  <!-- Title -->
  <text x="700" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#232f3e">
    PetClinic AWS Network Architecture
  </text>
  <text x="700" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#546e7a">
    VPC: 10.0.0.0/16 | Region: us-west-2 | Multi-AZ Deployment
  </text>
  
  <!-- Region Border -->
  <rect x="50" y="80" width="1300" height="880" fill="none" stroke="#232f3e" stroke-width="3" stroke-dasharray="10,5" rx="10"/>
  <text x="70" y="105" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#232f3e">
    AWS Region: us-west-2 (Oregon)
  </text>
  
  <!-- VPC Border -->
  <rect x="80" y="120" width="1240" height="820" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="8"/>
  <text x="100" y="145" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1976d2">
    VPC: petclinic-dev-vpc (10.0.0.0/16)
  </text>
  
  <!-- Internet Gateway -->
  <g id="igw">
    <rect x="630" y="160" width="140" height="60" fill="#ff9800" stroke="#e65100" stroke-width="2" rx="5"/>
    <text x="700" y="185" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
      Internet Gateway
    </text>
    <text x="700" y="205" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">
      petclinic-dev-igw
    </text>
  </g>
  
  <!-- Internet Symbol -->
  <ellipse cx="700" cy="90" rx="30" ry="15" fill="#4caf50" stroke="#2e7d32" stroke-width="2"/>
  <text x="700" y="95" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
    Internet
  </text>
  <line x1="700" y1="105" x2="700" y2="160" stroke="#232f3e" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- AZ-A -->
  <g id="az-a">
    <rect x="120" y="250" width="560" height="650" fill="#fff9c4" stroke="#f57f17" stroke-width="2" stroke-dasharray="5,3" rx="8"/>
    <text x="140" y="275" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#f57f17">
      Availability Zone A (us-west-2a)
    </text>
    
    <!-- Public Subnet A -->
    <g id="public-a">
      <rect x="150" y="290" width="500" height="140" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5"/>
      <text x="170" y="310" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1b5e20">
        Public Subnet A
      </text>
      <text x="170" y="328" font-family="Arial, sans-serif" font-size="11" fill="#2e7d32">
        10.0.1.0/24 | petclinic-dev-public-a
      </text>
      
      <!-- NAT Gateway A -->
      <rect x="200" y="345" width="130" height="60" fill="#ff9800" stroke="#e65100" stroke-width="2" rx="5"/>
      <text x="265" y="368" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        NAT Gateway A
      </text>
      <text x="265" y="385" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        + Elastic IP
      </text>
      
      <!-- ALB Node A -->
      <rect x="400" y="345" width="200" height="60" fill="#4fc3f7" stroke="#0277bd" stroke-width="2" rx="5"/>
      <text x="500" y="368" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        Application Load Balancer
      </text>
      <text x="500" y="385" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        Node A
      </text>
    </g>
    
    <!-- Private App Subnet A -->
    <g id="private-app-a">
      <rect x="150" y="450" width="500" height="200" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5"/>
      <text x="170" y="470" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0d47a1">
        Private App Subnet A
      </text>
      <text x="170" y="488" font-family="Arial, sans-serif" font-size="11" fill="#1565c0">
        10.0.3.0/24 | petclinic-dev-private-app-a
      </text>
      
      <!-- ECS Tasks -->
      <rect x="180" y="505" width="140" height="155" fill="#e1bee7" stroke="#7b1fa2" stroke-width="1.5" rx="4"/>
      <text x="250" y="525" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
        ECS Tasks
      </text>
      <rect x="195" y="535" width="110" height="25" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1" rx="3"/>
      <text x="250" y="553" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4a148c">Customers</text>
      <rect x="195" y="565" width="110" height="25" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1" rx="3"/>
      <text x="250" y="583" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4a148c">Vets</text>
      <rect x="195" y="595" width="110" height="25" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1" rx="3"/>
      <text x="250" y="613" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4a148c">Visits</text>
      <rect x="195" y="625" width="110" height="25" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1" rx="3"/>
      <text x="250" y="643" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4a148c">Admin</text>
      
      <!-- Lambda -->
      <rect x="350" y="505" width="140" height="60" fill="#fff59d" stroke="#f57f17" stroke-width="1.5" rx="4"/>
      <text x="420" y="530" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#f57f17">
        Lambda Functions
      </text>
      <text x="420" y="548" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#827717">
        GenAI Integration
      </text>
      
      <!-- VPC Endpoints -->
      <rect x="510" y="505" width="120" height="120" fill="#ffccbc" stroke="#d84315" stroke-width="1.5" rx="4"/>
      <text x="570" y="525" font-family="Arial, sans-serif" font-size="10" font-weight="bold" text-anchor="middle" fill="#bf360c">
        VPC Endpoints
      </text>
      <text x="570" y="545" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#d84315">ECR API</text>
      <text x="570" y="560" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#d84315">ECR DKR</text>
      <text x="570" y="575" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#d84315">CloudWatch</text>
      <text x="570" y="590" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#d84315">Secrets Mgr</text>
      <text x="570" y="605" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="#d84315">+ 6 more</text>
    </g>
    
    <!-- Private DB Subnet A -->
    <g id="private-db-a">
      <rect x="150" y="670" width="500" height="200" fill="#ffcdd2" stroke="#c62828" stroke-width="2" rx="5"/>
      <text x="170" y="690" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#b71c1c">
        Private DB Subnet A
      </text>
      <text x="170" y="708" font-family="Arial, sans-serif" font-size="11" fill="#c62828">
        10.0.5.0/24 | petclinic-dev-private-db-a
      </text>
      
      <!-- Aurora Primary -->
      <rect x="250" y="730" width="300" height="110" fill="#ef9a9a" stroke="#c62828" stroke-width="2" rx="5"/>
      <ellipse cx="320" cy="770" rx="35" ry="30" fill="#d32f2f" stroke="#b71c1c" stroke-width="2"/>
      <text x="320" y="775" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">DB</text>
      <text x="430" y="760" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#b71c1c">
        Aurora MySQL
      </text>
      <text x="430" y="780" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#c62828">
        Primary Writer Instance
      </text>
      <text x="430" y="798" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d84315">
        db.serverless (v2)
      </text>
      <text x="430" y="816" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#d84315">
        Storage: Encrypted
      </text>
    </g>
  </g>
  
  <!-- AZ-B -->
  <g id="az-b">
    <rect x="720" y="250" width="560" height="650" fill="#fff9c4" stroke="#f57f17" stroke-width="2" stroke-dasharray="5,3" rx="8"/>
    <text x="740" y="275" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#f57f17">
      Availability Zone B (us-west-2b)
    </text>
    
    <!-- Public Subnet B -->
    <g id="public-b">
      <rect x="750" y="290" width="500" height="140" fill="#c8e6c9" stroke="#388e3c" stroke-width="2" rx="5"/>
      <text x="770" y="310" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1b5e20">
        Public Subnet B
      </text>
      <text x="770" y="328" font-family="Arial, sans-serif" font-size="11" fill="#2e7d32">
        10.0.2.0/24 | petclinic-dev-public-b
      </text>
      
      <!-- NAT Gateway B -->
      <rect x="800" y="345" width="130" height="60" fill="#ff9800" stroke="#e65100" stroke-width="2" rx="5"/>
      <text x="865" y="368" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        NAT Gateway B
      </text>
      <text x="865" y="385" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        + Elastic IP
      </text>
      
      <!-- ALB Node B -->
      <rect x="1000" y="345" width="200" height="60" fill="#4fc3f7" stroke="#0277bd" stroke-width="2" rx="5"/>
      <text x="1100" y="368" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="white">
        Application Load Balancer
      </text>
      <text x="1100" y="385" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">
        Node B
      </text>
    </g>
    
    <!-- Private App Subnet B -->
    <g id="private-app-b">
      <rect x="750" y="450" width="500" height="200" fill="#bbdefb" stroke="#1976d2" stroke-width="2" rx="5"/>
      <text x="770" y="470" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#0d47a1">
        Private App Subnet B
      </text>
      <text x="770" y="488" font-family="Arial, sans-serif" font-size="11" fill="#1565c0">
        10.0.4.0/24 | petclinic-dev-private-app-b
      </text>
      
      <!-- ECS Tasks -->
      <rect x="780" y="505" width="140" height="155" fill="#e1bee7" stroke="#7b1fa2" stroke-width="1.5" rx="4"/>
      <text x="850" y="525" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#4a148c">
        ECS Tasks
      </text>
      <rect x="795" y="535" width="110" height="25" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1" rx="3"/>
      <text x="850" y="553" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4a148c">Customers</text>
      <rect x="795" y="565" width="110" height="25" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1" rx="3"/>
      <text x="850" y="583" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4a148c">Vets</text>
      <rect x="795" y="595" width="110" height="25" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1" rx="3"/>
      <text x="850" y="613" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4a148c">Visits</text>
      <rect x="795" y="625" width="110" height="25" fill="#ce93d8" stroke="#6a1b9a" stroke-width="1" rx="3"/>
      <text x="850" y="643" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4a148c">Admin</text>
      
      <!-- Lambda -->
      <rect x="950" y="505" width="140" height="60" fill="#fff59d" stroke="#f57f17" stroke-width="1.5" rx="4"/>
      <text x="1020" y="530" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#f57f17">
        Lambda Functions
      </text>
      <text x="1020" y="548" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#827717">
        GenAI Integration
      </text>
      
      <!-- S3 Gateway Endpoint -->
      <rect x="950" y="580" width="140" height="50" fill="#4caf50" stroke="#2e7d32" stroke-width="1.5" rx="4"/>
      <text x="1020" y="603" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="white">
        S3 Gateway
      </text>
      <text x="1020" y="620" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#e8f5e9">
        Endpoint
      </text>
    </g>
    
    <!-- Private DB Subnet B -->
    <g id="private-db-b">
      <rect x="750" y="670" width="500" height="200" fill="#ffcdd2" stroke="#c62828" stroke-width="2" rx="5"/>
      <text x="770" y="690" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#b71c1c">
        Private DB Subnet B
      </text>
      <text x="770" y="708" font-family="Arial, sans-serif" font-size="11" fill="#c62828">
        10.0.6.0/24 | petclinic-dev-private-db-b
      </text>
      
      <!-- Aurora Replica -->
      <rect x="850" y="730" width="300" height="110" fill="#ef9a9a" stroke="#c62828" stroke-width="2" rx="5"/>
      <ellipse cx="920" cy="770" rx="35" ry="30" fill="#d32f2f" stroke="#b71c1c" stroke-width="2"/>
      <text x="920" y="775" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="white">DB</text>
      <text x="1030" y="760" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#b71c1c">
        Aurora MySQL
      </text>
      <text x="1030" y="780" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#c62828">
        Read Replica Instance
      </text>
      <text x="1030" y="798" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#d84315">
        db.serverless (v2)
      </text>
      <text x="1030" y="816" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#d84315">
        Auto-failover enabled
      </text>
    </g>
  </g>
  
  <!-- Connection Lines -->
  <!-- IGW to ALB -->
  <line x1="700" y1="220" x2="500" y2="345" stroke="#1976d2" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="700" y1="220" x2="1100" y2="345" stroke="#1976d2" stroke-width="2" stroke-dasharray="5,3"/>
  
  <!-- NAT to Internet -->
  <line x1="265" y1="345" x2="650" y2="220" stroke="#ff5722" stroke-width="2"/>
  <line x1="865" y1="345" x2="750" y2="220" stroke="#ff5722" stroke-width="2"/>
  
  <!-- App to NAT -->
  <line x1="250" y1="450" x2="265" y2="405" stroke="#ff5722" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="850" y1="450" x2="865" y2="405" stroke="#ff5722" stroke-width="1.5" stroke-dasharray="3,2"/>
  
  <!-- App to DB -->
  <line x1="400" y1="650" x2="400" y2="730" stroke="#c62828" stroke-width="2"/>
  <line x1="1000" y1="650" x2="1000" y2="730" stroke="#c62828" stroke-width="2"/>
  
  <!-- DB Replication -->
  <line x1="550" y1="785" x2="850" y2="785" stroke="#d32f2f" stroke-width="3" stroke-dasharray="8,4" marker-end="url(#arrowhead-red)"/>
  <text x="700" y="780" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#c62828">
    Aurora Cluster Replication
  </text>
  
  <!-- Legend -->
  <g id="legend" transform="translate(100, 915)">
    <rect x="0" y="0" width="1200" height="50" fill="white" stroke="#90a4ae" stroke-width="1" rx="5"/>
    <text x="10" y="20" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#37474f">
      Architecture Features:
    </text>
    <text x="20" y="38" font-family="Arial, sans-serif" font-size="10" fill="#546e7a">
      • Multi-AZ High Availability • NAT Gateway per AZ • VPC Endpoints (PrivateLink) • S3 Gateway Endpoint • Aurora Serverless v2 with Auto-scaling
    </text>
    <text x="800" y="38" font-family="Arial, sans-serif" font-size="10" fill="#546e7a">
      • ECS Fargate Tasks • Lambda GenAI Integration • CloudWatch Logs • Secrets Manager
    </text>
  </g>
  
  <!-- Arrow markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#232f3e" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#d32f2f" />
    </marker>
  </defs>
</svg>
