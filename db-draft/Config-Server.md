### **Config Server 분석 및 AWS 마이그레이션 제안**

**작성자:** (본인 성함)
**역할:** Data & Migration Lead
**목표:** 팀원들과 함께 Config Server의 기술적 역할과 현재 구현 방식의 한계를 분석하고, AWS Parameter Store로 이전해야 하는 당위성을 공유한다.

---

### **1. Config Server의 역할: 설정 정보의 중앙 집중화**

마이크로서비스 아키텍처에서 각 서비스는 독립적으로 실행되며, 각자 다른 설정(Configuration)을 가질 수 있습니다. 서비스가 수십, 수백 개로 늘어날 경우, 각 서비스의 폴더마다 설정 파일을 분산 관리하는 것은 비효율과 오류를 유발합니다.

`Spring Cloud Config Server`는 이러한 문제를 해결하기 위해 도입된 컴포넌트입니다.

-   **핵심 기능:** 모든 마이크로서비스의 설정 정보를 단일 외부 저장소(현재 프로젝트에서는 Git 리포지토리)에서 통합 관리합니다.
-   **동작 원리:**
    1.  각 서비스(예: `customers-service`)는 자체적으로 완전한 설정 정보를 가지고 있지 않습니다.
    2.  서비스는 시작(Bootstrap) 시, `Config Server`에 자신의 애플리케이션 이름(예: `customers-service`)과 활성 프로파일(예: `docker`)을 알려주며 설정을 요청합니다.
    3.  `Config Server`는 요청 정보를 바탕으로 외부 저장소(Git)에서 해당 서비스에 맞는 설정 파일을 찾아(예: `customers-service.yml`) 내용을 서비스에 전달합니다.
    4.  서비스는 전달받은 설정 정보를 메모리에 로드하여 애플리케이션을 최종적으로 구동합니다.

-   **기대 효과:** 이 방식을 통해 모든 서비스 설정의 **중앙 관리, 버전 관리(Git), 그리고 일관성**을 확보할 수 있습니다.

---

### **2. 현 아키텍처의 한계 및 문제점**

현재 `Config Server`와 `Public GitHub`를 연동하는 방식은 프로덕션 환경에 적용하기에는 다음과 같은 명백한 한계를 가집니다.

#### **한계 1: 민감 정보 노출 (보안)**

-   **문제:** 데이터베이스 접속 정보(`username`, `password`)와 같은 민감 정보가 암호화되지 않은 평문(Plain Text) 상태로 **공개(Public) GitHub 리포지토리**에 저장되어 있습니다.
-   **영향:** 이는 외부에 기밀 정보를 노출하는 것과 같으며, 심각한 보안 사고로 이어질 수 있습니다. 프로덕션 환경에서는 절대 사용해서는 안 되는 방식입니다.

#### **한계 2: 단일 장애점 (SPOF - Single Point of Failure)**

-   **문제:** `Config Server`는 모든 서비스가 시작 단계에서 의존하는 핵심 인프라입니다. 만약 `Config Server`가 다운되면, 어떤 서비스도 구동에 필요한 설정 정보를 받아올 수 없어 시작 자체가 불가능해집니다.
-   **영향:** `Config Server` 하나의 장애가 전체 시스템의 장애로 확산될 수 있어, 시스템의 가용성과 안정성을 저해하는 요인이 됩니다.

#### **한계 3: 운영 및 관리 복잡성**

-   **문제:** `Config Server` 자체도 하나의 독립된 서버이므로, 배포, 모니터링, 장애 대응 등 별도의 운영 리소스가 필요합니다.
-   **영향:** 긴급한 설정 변경 및 적용, 변경 이력에 대한 감사(Audit) 추적 등 운영 관점에서 관리 복잡성을 증가시킵니다.

---

### **3. 해결 방안: AWS Parameter Store 도입**

위와 같은 한계를 극복하기 위해, 설정 정보의 저장소를 **AWS Systems Manager Parameter Store**로 이전하고, 최종적으로는 각 서비스가 `Config Server`를 거치지 않고 Parameter Store와 직접 통신하는 아키텍처를 제안합니다.

-   **보안 강화:** Parameter Store는 모든 설정 값을 암호화하여 저장하며, IAM(Identity and Access Management) 역할을 통해 서비스별로 접근 권한을 세밀하게 제어할 수 있습니다. 이를 통해 민감 정보 노출 문제를 원천적으로 해결합니다.

-   **고가용성 확보:** AWS가 직접 관리하는 서버리스(Serverless) 서비스이므로, 단일 장애점에 대한 우려 없이 높은 가용성을 보장받을 수 있습니다.

-   **운영 효율성:** 별도의 서버 관리가 필요 없으며, AWS CloudTrail과 연동하여 모든 설정 변경 이력을 자동으로 기록하고 감사할 수 있어 운영 및 관리가 용이해집니다.

**결론적으로, `Config Server`에서 `AWS Parameter Store`로의 마이그레이션은 우리 시스템을 더 안전하고, 안정적이며, 관리하기 쉽게 만드는 필수적인 과정입니다.**
